"use strict";(globalThis.webpackChunkdocumentacion=globalThis.webpackChunkdocumentacion||[]).push([[760],{5661:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"proyectos/docrew/documentacion/cr/docrew-incidencia-5-cr-historia-1","title":"Incidencia 5 - Comentario PDF Front","description":"---","source":"@site/docs/proyectos/docrew/documentacion/cr/cr-proximos-incidencia-5-historia-1.md","sourceDirName":"proyectos/docrew/documentacion/cr","slug":"/proyectos/docrew/documentacion/cr/docrew-incidencia-5-cr-historia-1","permalink":"/documentacion/proyectos/docrew/documentacion/cr/docrew-incidencia-5-cr-historia-1","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"docrew-incidencia-5-cr-historia-1","title":"Incidencia 5 - Comentario PDF Front"},"sidebar":"docsSidebar","previous":{"title":"Incidencia 4 - Historia 1 First sync date","permalink":"/documentacion/proyectos/docrew/documentacion/cr/docrew-incidencia-4-cr-historia-1"},"next":{"title":"Incidencia 5 - Comentario PDF Back","permalink":"/documentacion/proyectos/docrew/documentacion/cr/docrew-incidencia-5-cr-historia-2"}}');var s=i(7259),c=i(5739);const a={id:"docrew-incidencia-5-cr-historia-1",title:"Incidencia 5 - Comentario PDF Front"},l="Historia de Usuario \u2013 Campo de texto libre antes de firmar un record (Frontend)",o={},d=[{value:"Historia",id:"historia",level:2},{value:"Contexto de la pantalla",id:"contexto-de-la-pantalla",level:2},{value:"Alcance funcional (Frontend)",id:"alcance-funcional-frontend",level:2},{value:"Incluye",id:"incluye",level:3},{value:"No Incluye",id:"no-incluye",level:3},{value:"Alcance t\xe9cnico (Frontend)",id:"alcance-t\xe9cnico-frontend",level:2},{value:"Criterios de aceptaci\xf3n (Funcionales \u2013 Frontend)",id:"criterios-de-aceptaci\xf3n-funcionales--frontend",level:2},{value:"Criterios de aceptaci\xf3n (T\xe9cnicos \u2013 Frontend)",id:"criterios-de-aceptaci\xf3n-t\xe9cnicos--frontend",level:2},{value:"Tareas t\xe9cnicas (Checklist \u2013 Frontend)",id:"tareas-t\xe9cnicas-checklist--frontend",level:2},{value:"Desarrollo",id:"desarrollo",level:3},{value:"QA",id:"qa",level:3},{value:"Dependencias",id:"dependencias",level:2},{value:"Recursos relacionados",id:"recursos-relacionados",level:2}];function t(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"historia-de-usuario--campo-de-texto-libre-antes-de-firmar-un-record-frontend",children:"Historia de Usuario \u2013 Campo de texto libre antes de firmar un record (Frontend)"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"historia",children:"Historia"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Como"})," revisor\n",(0,s.jsx)(n.strong,{children:"Quiero"})," ver un modal con un campo de texto libre al momento de firmar definitivamente un record",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Para"})," poder registrar comentarios de correcci\xf3n o aclaraci\xf3n que se env\xeden al backend y se reflejen en el PDF final de la evaluaci\xf3n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"contexto-de-la-pantalla",children:"Contexto de la pantalla"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"M\xf3dulo:"})," Web"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pantalla:"})," View PDF / Sign Record"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ubicaci\xf3n:"})," Web app \u2192 Sign Records \u2192 View PDF"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Descripci\xf3n:"}),(0,s.jsx)(n.br,{}),"\n","En la vista de detalle de un record, el revisor puede revisar la informaci\xf3n y firmar la evaluaci\xf3n. Antes de ejecutar la firma final, se debe mostrar un modal que permita capturar un comentario opcional. Al confirmar, el comentario y los datos del usuario logueado se env\xedan al backend junto con la petici\xf3n de firma."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"alcance-funcional-frontend",children:"Alcance funcional (Frontend)"}),"\n",(0,s.jsx)(n.h3,{id:"incluye",children:"Incluye"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n de UI:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Al hacer clic en ",(0,s.jsx)(n.em,{children:"Sign Record"}),", mostrar un bot\xf3n que permita abrir un modal para guardar comentarios de la evaluaci\xf3n, previo a la firma."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Interacciones:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["El modal contiene:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T\xedtulo y mensaje explicando que el comentario es opcional."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"textarea"})," para escribir el comentario."]}),"\n",(0,s.jsxs)(n.li,{children:["Botones: ",(0,s.jsx)(n.strong,{children:"Confirmar"})," y ",(0,s.jsx)(n.strong,{children:"Cancelar"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["El usuario puede:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cerrar el modal sin escribir comentario."}),"\n",(0,s.jsx)(n.li,{children:"Escribir comentario y guardar \u2192 firmar."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Estados de UI:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Inicial: bot\xf3n ",(0,s.jsx)(n.em,{children:"Sign Record"})," disponible."]}),"\n",(0,s.jsxs)(n.li,{children:["Inicial: bot\xf3n ",(0,s.jsx)(n.em,{children:"Create comment"})," disponible."]}),"\n",(0,s.jsx)(n.li,{children:"Modal: textarea habilitado y botones activos (Solo cancelar, guardar se habilita cuando el textarea no este vacia)."}),"\n",(0,s.jsx)(n.li,{children:"Cargando: al confirmar, deshabilitar controles y mostrar indicador."}),"\n",(0,s.jsx)(n.li,{children:"\xc9xito: cerrar modal."}),"\n",(0,s.jsx)(n.li,{children:"Error: mostrar mensaje y permitir reintentar o cancelar."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validaciones:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Longitud m\xe1xima (ej. 2000 caracteres)."}),"\n",(0,s.jsx)(n.li,{children:"Manejo de caracteres especiales (Unicode permitido)."}),"\n",(0,s.jsx)(n.li,{children:"Comentario no obligatorio."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integraci\xf3n con API:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Implementar petici\xf3n post para guardar comentario:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"comment"})}),"\n",(0,s.jsxs)(n.li,{children:["Identificadores del usuario logueado (",(0,s.jsx)(n.code,{children:"userId"}),", ",(0,s.jsx)(n.code,{children:"userName"}),", etc.)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"no-incluye",children:"No Incluye"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Edici\xf3n/eliminaci\xf3n de comentario despu\xe9s de la firma."}),"\n",(0,s.jsx)(n.li,{children:"Historial de m\xfaltiples comentarios por record."}),"\n",(0,s.jsx)(n.li,{children:"Cambios en la UI m\xf3vil."}),"\n",(0,s.jsx)(n.li,{children:"Cambios en layout del PDF (se resuelve en backend)."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"alcance-t\xe9cnico-frontend",children:"Alcance t\xe9cnico (Frontend)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Framework:"})," Angular"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Componentes nuevos:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"CommentSignRecordModalComponent"})," (o equivalente)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Componentes reutilizados:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Estilos, botones y base de modales existentes."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Autenticaci\xf3n / usuario actual:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Reutilizar servicio actual para obtener: ",(0,s.jsx)(n.code,{children:"userId"}),", ",(0,s.jsx)(n.code,{children:"userName"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Gesti\xf3n de estado:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Comentario manejado localmente dentro del modal."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Manejo de errores:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Usar toasts/alerts est\xe1ndar."}),"\n",(0,s.jsx)(n.li,{children:"Modal solo se cierra si la firma fue exitosa."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accesibilidad:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Focus inicial en textarea."}),"\n",(0,s.jsx)(n.li,{children:"Cerrar con tecla ESC."}),"\n",(0,s.jsx)(n.li,{children:"Navegaci\xf3n por teclado y roles ARIA."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"criterios-de-aceptaci\xf3n-funcionales--frontend",children:"Criterios de aceptaci\xf3n (Funcionales \u2013 Frontend)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Al pulsar ",(0,s.jsx)(n.em,{children:"Create comment"}),", se abre un modal con textarea y botones Confirmar/Cancelar."]}),"\n",(0,s.jsx)(n.li,{children:"El usuario puede firmar sin escribir comentario."}),"\n",(0,s.jsx)(n.li,{children:"Si escribe un comentario y confirma, el comentario se env\xeda correctamente al backend."}),"\n",(0,s.jsx)(n.li,{children:"Si el usuario cancela, el modal se cierra sin firmar."}),"\n",(0,s.jsx)(n.li,{children:"El modal muestra estados de carga y mensajes en caso de error."}),"\n",(0,s.jsx)(n.li,{children:"El modal funciona correctamente en resoluciones soportadas."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"criterios-de-aceptaci\xf3n-t\xe9cnicos--frontend",children:"Criterios de aceptaci\xf3n (T\xe9cnicos \u2013 Frontend)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["La llamada al endpoint de firma incluye ",(0,s.jsx)(n.code,{children:"comment"})," y los datos del usuario."]}),"\n",(0,s.jsx)(n.li,{children:"No existen errores de TypeScript ni fallos de lint."}),"\n",(0,s.jsx)(n.li,{children:"Ante un error HTTP (4xx/5xx), se muestra mensaje est\xe1ndar y el modal queda disponible para reintentar."}),"\n",(0,s.jsx)(n.li,{children:"El comentario no se pierde mientras el modal est\xe9 abierto (solo se limpia al confirmar o cancelar)."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"tareas-t\xe9cnicas-checklist--frontend",children:"Tareas t\xe9cnicas (Checklist \u2013 Frontend)"}),"\n",(0,s.jsx)(n.h3,{id:"desarrollo",children:"Desarrollo"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Crear componente de modal para comentario antes de firmar."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Integrar apertura del modal al hacer clic en ",(0,s.jsx)(n.em,{children:"Create comment"}),"."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Ajustar servicio de firma para enviar ",(0,s.jsx)(n.code,{children:"comment"})," + datos de usuario."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Manejar estados de carga y error dentro del modal."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Revisar accesibilidad (focus, teclado, ARIA)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"qa",children:"QA"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Probar firma sin comentario."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Probar firma con comentario corto/largo/saltos de l\xednea/caracteres especiales."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Probar bot\xf3n Cancelar."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Validar payload enviado al backend."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Validar en navegadores soportados."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"dependencias",children:"Dependencias"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Backend que acepte y persista el comentario y datos del usuario."}),"\n",(0,s.jsx)(n.li,{children:"Servicio de generaci\xf3n de PDF que use esta informaci\xf3n."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"recursos-relacionados",children:"Recursos relacionados"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Documentaci\xf3n del endpoint de firma de record."}),"\n",(0,s.jsx)(n.li,{children:"Gu\xedas de dise\xf1o de modales del proyecto."}),"\n",(0,s.jsx)(n.li,{children:"Historias de usuario de firma de evaluaciones Web."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},5739:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var r=i(6363);const s={},c=r.createContext(s);function a(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);